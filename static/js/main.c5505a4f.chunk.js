(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{11:function(e,t,a){e.exports={post:"Post_post__2pO6e",postUser:"Post_postUser__1r4Y2",profileImage:"Post_profileImage__1eouX",username:"Post_username__2_wfH",openOptions:"Post_openOptions__QDT-p",postContent:"Post_postContent__1s4cl",bottomIconsContainer:"Post_bottomIconsContainer__2eVV-",commentBtn:"Post_commentBtn__3503P"}},1338:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(29),l=a.n(r),s=(a(49),a(6)),c=a(27),m=(a(54),a(56),c.a.initializeApp({apiKey:"AIzaSyCby0rhJW2ZK6zlQXtXxiASyoFv72zkH4g",authDomain:"social-development-d50ff.firebaseapp.com",projectId:"social-development-d50ff",storageBucket:"social-development-d50ff.appspot.com",messagingSenderId:"1033876385649",appId:"1:1033876385649:web:4c587717032ea316bb90d0"})),i=m.auth(),u=m.firestore(),d=c.a.firestore.Timestamp,p=a(7),E=a(8),f="SET_ERROR",h=a(31),g=a.n(h),v=a(10);function b(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 22 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}))}function _(){return o.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 800.00001 800.00001",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{transform:"translate(0 -252.36)"},o.a.createElement("path",{d:"m652.22 252.36a117.44 117.44 0 0 0 -117.43 117.5 117.44 117.44 0 0 0 1.439 17.823l-307.45 177.48a117.44 117.44 0 0 0 -78.492 -30.231 117.44 117.44 0 0 0 -117.43 117.43 117.44 117.44 0 0 0 117.43 117.43 117.44 117.44 0 0 0 80.617 -32.082l305.81 176.59a117.44 117.44 0 0 0 -1.9199 20.634 117.44 117.44 0 0 0 117.43 117.43 117.44 117.44 0 0 0 117.43 -117.43 117.44 117.44 0 0 0 -117.43 -117.5 117.44 117.44 0 0 0 -83.016 34.55l-303.96-175.49a117.44 117.44 0 0 0 2.5376 -24.13 117.44 117.44 0 0 0 -3.2887 -26.735l302.79-174.74a117.44 117.44 0 0 0 84.936 36.401 117.44 117.44 0 0 0 117.43 -117.43 117.44 117.44 0 0 0 -117.43 -117.5z",colorRendering:"auto",fill:"#fff",imageRendering:"auto",shapeRendering:"auto",style:{isolation:"auto",mixBlendMode:"normal"}})))}function y(){return o.a.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}))}function C(){return o.a.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))}function N(){return o.a.createElement("svg",{className:"commentLogo",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"}))}function O(){return o.a.createElement("svg",{className:"postLogo",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"}))}function w(){return o.a.createElement("svg",{width:"20",style:{marginRight:"5px"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))}function P(){return o.a.createElement("svg",{width:"20",style:{marginRight:"5px"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"}))}function j(){return o.a.createElement("svg",{width:"20",style:{marginRight:"5px"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}))}function I(){return o.a.createElement("svg",{width:"20",style:{marginRight:"5px"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"}))}function B(){return o.a.createElement("div",{className:"loader"})}function k(){return o.a.createElement("svg",{width:"21",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}))}function S(){return o.a.createElement("svg",{color:"white",width:"20",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"}))}var L=a(5),T=a.n(L);var x={addPost:function(e){return function(t){if(" "===e.postContent[0])return t({type:f,payload:"Empty post or post beggining with space"});var a=u.collection("posts").doc();e.id=a.id,e.datePosted=d.now(),a.set(e).then((function(){return t({type:"NEW_POST",payload:e})})).catch((function(e){return t({type:f,payload:e.message})})).catch((function(e){return console.log(e)}))}}},M=Object(s.b)((function(e){return{user:e.user.user}}),x)((function(e){var t=e.user,a=e.addPost,r=Object(n.useState)(""),l=Object(v.a)(r,2),s=l[0],c=l[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:T.a.addPostBtn,onClick:function(){var e=document.getElementById("menu"),t=document.getElementById("postContent");e.style.left=0,e.style.display="flex",window.matchMedia("(min-width: 769px)")||(document.body.classList+=" noScroll"),t.focus()}},o.a.createElement(O,null)," ",o.a.createElement("span",{className:T.a.addPostLabel},"New Post")),o.a.createElement("div",{className:T.a.createPostContainer,id:"menu"},o.a.createElement("div",{className:T.a.modal},o.a.createElement("div",{className:T.a.topIconsContainer},o.a.createElement("button",{className:T.a.closeBtn,onClick:function(){var e=document.getElementById("menu");e.style.left="100%",setTimeout((function(){return e.style.display="none"}),600),document.body.classList.remove("noScroll")},id:"closeBtn"},"\xd7"),o.a.createElement("button",{className:T.a.submitBtn,onClick:function(){var e={userId:t.id,postContent:s};a(e),c(""),document.getElementById("closeBtn").click()},disabled:0===s.length},o.a.createElement(O,null))),o.a.createElement("div",{className:T.a.inputContainer},o.a.createElement("form",null,o.a.createElement("div",{className:T.a.formControl},o.a.createElement("textarea",{value:s,onChange:function(e){return c(e.target.value)},className:T.a.postInput,id:"postContent",placeholder:"Type here..."})))))))})),F=a(17),D=a.n(F),U=a(4),G={editPost:function(e){return function(t){u.collection("posts").doc(e.id).update(e).then(t({type:"EDIT_POST",payload:e})).catch((function(e){return t({type:f,payload:e.message})})).catch((function(e){return console.log(e)}))}}},R=Object(s.b)((function(e){return{}}),G)((function(e){var t=e.post,a=e.editPost,r=e.setShowEdit,l=Object(n.useState)(t.postContent),s=Object(v.a)(l,2),c=s[0],m=s[1];return o.a.createElement("div",{className:T.a.createPostContainer,style:{display:"flex"}},o.a.createElement("div",{className:T.a.modal},o.a.createElement("div",{className:T.a.topIconsContainer},o.a.createElement("button",{className:T.a.closeBtn,onClick:function(){return r(!1)},id:"closeBtn"},"\xd7"),o.a.createElement("button",{className:T.a.submitBtn,onClick:function(){if(t.postContent!==c){var e=Object(U.a)({},t,{postContent:c});a(e),r(!1)}},disabled:0===c.length},"Edit")),o.a.createElement("div",{className:T.a.inputContainer},o.a.createElement("form",null,o.a.createElement("div",{className:T.a.formControl},o.a.createElement("textarea",{value:c,onChange:function(e){return m(e.target.value)},className:T.a.postInput,id:"postContent",placeholder:"Type here..."}))))))})),H={deletePost:function(e){return function(t){u.collection("posts").doc(e.id).delete().then(t({type:"DELETE_POST",payload:e})).catch((function(e){return t({type:f,payload:e.message})})).catch((function(e){return console.log(e)}))}}},A=Object(s.b)((function(e){return{}}),H)((function(e){var t=e.post,a=e.deletePost,r=Object(n.useState)(!1),l=Object(v.a)(r,2),s=l[0],c=l[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:D.a.modal,id:"modal"},o.a.createElement("div",{className:D.a.modalContent},o.a.createElement("button",{className:D.a.modalBtn,onClick:function(){c(!0),document.getElementById("modal").style.display="none"}},o.a.createElement(y,null),o.a.createElement("span",null,"Edit Post")),o.a.createElement("button",{className:D.a.modalBtn,onClick:function(){document.getElementById("modal").style.display="none",a(t)}},o.a.createElement(C,null)," ",o.a.createElement("span",null,"Delete Post")))),s&&o.a.createElement(R,{post:t,setShowEdit:c}))})),z=a(11),W=a.n(z);var q=Object(s.b)((function(e){return{user:e.user.user,loading:e.posts.loading}}),null)((function(e){var t=e.user,a=e.data,r=e.loading,l=Object(n.useState)(null),s=Object(v.a)(l,2),c=s[0],m=s[1];return r?o.a.createElement(B,null):o.a.createElement(o.a.Fragment,null,a.length>=1?a.map((function(e){return o.a.createElement("div",{key:e.id,className:W.a.post},o.a.createElement("div",{className:W.a.postUser},o.a.createElement(p.b,{to:{pathname:"/user/".concat(e.userId)}},o.a.createElement("img",{src:e.profileImage,alt:"",className:W.a.profileImage})),o.a.createElement("span",{className:W.a.username},o.a.createElement(p.b,{to:{pathname:"/user/".concat(e.userId)}},e.username)),t&&(e.userId===t.id?o.a.createElement("button",{className:W.a.openOptions,id:"openOptions",onClick:function(){return function(e){m(e);var t=document.getElementById("modal");"flex"===t.style.display?t.style.display="none":t.style.display="flex"}(e)}},o.a.createElement(S,null)):"")),o.a.createElement(p.b,{to:{pathname:"/post/".concat(e.id),state:e}},o.a.createElement("div",{className:W.a.postContent},o.a.createElement("p",null,e.postContent))),o.a.createElement("div",{className:W.a.bottomIconsContainer},o.a.createElement(p.b,{to:{pathname:"/post/".concat(e.id),state:e},className:W.a.commentBtn},o.a.createElement(N,null))))})):o.a.createElement("div",{style:{color:"oldlace"}},"No Posts"),t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(A,{post:c,setPostEdit:m}),o.a.createElement(M,null)))})),V=a(18),X=a.n(V);var Z={logout:function(){return function(e){i.signOut().then(e({type:"LOGOUT"}))}}},K=Object(s.b)((function(e){return{user:e.user.user}}),Z)((function(e){var t=e.user,a=e.logout;return window.onclick=function(e){var t=document.getElementById("modal"),a=document.getElementById("navMenu");null!==t&&e.target===t&&(t.style.display="none"),null===a||e.target.matches("#menuOpen")||"block"===a.style.display&&(a.style.display="none")},o.a.createElement("nav",{className:X.a.navbar},o.a.createElement("span",{className:X.a.logo},o.a.createElement(p.b,{to:"/"},o.a.createElement(_,null)," ",o.a.createElement("span",null,"Connect"))),o.a.createElement("button",{className:X.a.menuOpen,onClick:function(){var e=document.getElementById("navMenu");"block"===e.style.display?e.style.display="none":e.style.display="block"},id:"menuOpen"},o.a.createElement(b,null)),o.a.createElement("div",{className:X.a.navMenu,id:"navMenu",tabIndex:"1"},t?o.a.createElement("ul",null,o.a.createElement("li",{className:X.a.menuItem}," ",o.a.createElement(p.b,{to:{pathname:"/user/".concat(t.id)}},o.a.createElement(w,null)," My Account")," "),o.a.createElement("li",{className:X.a.menuItem},o.a.createElement(p.b,{onClick:a,to:""},o.a.createElement(j,null)," Logout"))):o.a.createElement("ul",null,o.a.createElement("li",{className:X.a.menuItem}," ",o.a.createElement(p.b,{to:{pathname:"/login"}},o.a.createElement(I,null)," Login"," ")," "),o.a.createElement("li",{className:X.a.menuItem}," ",o.a.createElement(p.b,{to:{pathname:"/signup"}},o.a.createElement(P,null)," Sign Up"," ")," "))))}));function Y(e){return function(t){return o.a.createElement("div",{style:{margin:0,padding:0}},o.a.createElement(K,null),o.a.createElement(e,t))}}var J=Object(s.b)((function(e){return{posts:e.posts.posts}}),{fetchPosts:function(){return function(e){e({type:"SET_LOADING",payload:!0}),u.collection("posts").orderBy("datePosted","desc").limit(12).get().then((function(t){var a=[];t.forEach((function(n){var o=n.data();u.collection("users").doc(o.userId).get().then((function(n){o.username=n.data().username,o.profileImage=n.data().profilePicture,a.push(o),a.length===t.size&&e({type:"FETCH_POSTS",payload:a})})).catch((function(e){return console.log(e)}))}))})).catch((function(t){return e({type:f,payload:t.message})})).catch((function(e){return console.log(e)}))}}})(Y((function(e){var t=e.posts,a=e.fetchPosts;return Object(n.useEffect)((function(){a()}),[a]),o.a.createElement("div",{className:"container"},o.a.createElement(q,{data:t}))}))),Q=a(23),$=a.n(Q);var ee={fetchUserPosts:function(e){return function(t){u.collection("posts").where("userId","==",e).orderBy("datePosted","desc").get().then((function(a){var n=[];u.collection("users").doc(e).get().then((function(e){a.forEach((function(t){var a=t.data();a.username=e.data().username,a.profileImage=e.data().profilePicture,n.push(a)})),t({type:"FETCH_USER_POSTS",payload:n})})).catch((function(e){return console.log(e)}))}))}},fetchUserDetails:function(e){return function(t){t({type:"SET_LOADING",payload:!0}),u.collection("users").doc(e).get().then((function(e){e.exists?t({type:"FETCH_USER_DETAILS",payload:e.data()}):t({type:f,payload:"Unable to find user"})})).catch((function(e){return t({type:f,payload:e.message})})).catch((function(e){return console.log(e)}))}}},te=Object(s.b)((function(e){return{user:e.user.user,posts:e.posts.userPosts,loading:e.user.loading,userDetails:e.user.userDetails}}),ee)(Y((function(e){var t=e.user,a=e.posts,r=e.loading,l=e.userDetails,s=e.fetchUserPosts,c=e.fetchUserDetails,m=e.match.params.id;return Object(n.useEffect)((function(){c(m),s(m)}),[m,s,c]),r?o.a.createElement("div",{className:"container"},o.a.createElement(B,null)):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:$.a.details},t&&(t.id===m?o.a.createElement(p.b,{to:{pathname:"/user/".concat(t.id,"/update-profile")},className:$.a.editProfile},o.a.createElement(k,null)):""),o.a.createElement("img",{src:l.profilePicture,className:$.a.profilePicture,alt:"Profile"}),o.a.createElement("div",{className:$.a.userName},l.username),o.a.createElement("div",{className:$.a.description},l.description)),o.a.createElement(q,{data:a}))}))),ae=a(33),ne=a.n(ae);var oe={addComment:function(e){return function(t){var a=u.collection("comments").doc();e.id=a.id,e.datePosted=d.now(),a.set(e).then((function(){return t({type:"NEW_COMMENT",payload:e})})).catch((function(e){return t({type:f,payload:e.message})})).catch((function(e){return console.log(e)}))}}},re=Object(s.b)((function(e){return{user:e.user.user}}),oe)((function(e){var t=e.user,a=e.post,r=e.addComment,l=Object(n.useState)(""),s=Object(v.a)(l,2),c=s[0],m=s[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:T.a.addCommentBtn,onClick:function(){var e=document.getElementById("menu"),t=document.getElementById("commentContent");e.style.left=0,e.style.display="flex",window.matchMedia("(min-width: 769px)")||(document.body.classList+=" noScroll"),t.focus()}},o.a.createElement("span",{className:T.a.addCommentLabel},o.a.createElement(N,null)," Comment"),o.a.createElement("span",{className:T.a.addCommentMobileIcon},"+")),o.a.createElement("div",{className:T.a.createPostContainer,id:"menu"},o.a.createElement("div",{className:T.a.modal},o.a.createElement("div",{className:T.a.topIconsContainer},o.a.createElement("button",{className:T.a.closeBtn,onClick:function(){var e=document.getElementById("menu");e.style.left="100%",setTimeout((function(){return e.style.display="none"}),600),document.body.classList.remove("noScroll")},id:"closeBtn"},"\xd7"),o.a.createElement("button",{className:T.a.submitBtn,onClick:function(){var e={userId:t.id,postId:a.id,commentContent:c};r(e),m(""),document.getElementById("closeBtn").click()},disabled:0===c.length},o.a.createElement(O,null))),o.a.createElement("div",{className:T.a.inputContainer},o.a.createElement("form",null,o.a.createElement("div",{className:T.a.formControl},o.a.createElement("textarea",{value:c,onChange:function(e){return m(e.target.value)},className:T.a.postInput,id:"commentContent",placeholder:"Type here..."})))))))})),le={editComment:function(e){return function(t){u.collection("comments").doc(e.id).update(e).then(t({type:"EDIT_COMMENT",payload:e})).catch((function(e){return t({type:f,payload:e.message})})).catch((function(e){return console.log(e)}))}}},se=Object(s.b)((function(e){return{}}),le)((function(e){var t=e.comment,a=e.editComment,r=e.setShowEdit,l=Object(n.useState)(t.commentContent),s=Object(v.a)(l,2),c=s[0],m=s[1];return o.a.createElement("div",{className:T.a.createPostContainer,style:{display:"flex"}},o.a.createElement("div",{className:T.a.modal},o.a.createElement("div",{className:T.a.topIconsContainer},o.a.createElement("button",{className:T.a.closeBtn,onClick:function(){return r(!1)},id:"closeBtn"},"\xd7"),o.a.createElement("button",{className:T.a.submitBtn,onClick:function(){if(t.commentContent!==c){var e=Object(U.a)({},t,{commentContent:c});a(e),r(!1)}},disabled:0===c.length},"Edit")),o.a.createElement("div",{className:T.a.inputContainer},o.a.createElement("form",null,o.a.createElement("div",{className:T.a.formControl},o.a.createElement("textarea",{value:c,onChange:function(e){return m(e.target.value)},className:T.a.postInput,id:"postContent",placeholder:"Type here..."}))))))})),ce={deleteComment:function(e){return function(t){u.collection("comments").doc(e.id).delete().then(t({type:"DELETE_COMMENT",payload:e})).catch((function(e){return t({type:f,payload:e.message})})).catch((function(e){return console.log(e)}))}}},me=Object(s.b)((function(e){return{}}),ce)((function(e){var t=e.comment,a=e.deleteComment,r=Object(n.useState)(!1),l=Object(v.a)(r,2),s=l[0],c=l[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:D.a.modal,id:"modal"},o.a.createElement("div",{className:D.a.modalContent},o.a.createElement("button",{className:D.a.modalBtn,onClick:function(){c(!0),document.getElementById("modal").style.display="none"}},o.a.createElement(y,null),o.a.createElement("span",null,"Edit Comment")),o.a.createElement("button",{className:D.a.modalBtn,onClick:function(){document.getElementById("modal").style.display="none",a(t)}},o.a.createElement(C,null)," ",o.a.createElement("span",null,"Delete Comment")))),s&&o.a.createElement(se,{comment:t,setShowEdit:c}))}));var ie={fetchPost:function(e){return function(t){t({type:"SET_LOADING",payload:!0}),u.collection("posts").doc(e).get().then((function(e){if(e.exists){var a=e.data();u.collection("users").doc(a.userId).get().then((function(e){a.username=e.data().username,a.profileImage=e.data().profilePicture,t({type:"FETCH_POST",payload:a})})).catch((function(e){return t({type:f,payload:e.message})}))}else console.log("No such document")})).catch((function(e){return t({type:f,payload:e.message})})).catch((function(e){return console.log(e)}))}},fetchComments:function(e){return function(t){u.collection("comments").where("postId","==",e).get().then((function(e){var a=[];e.forEach((function(n){var o=n.data();u.collection("users").doc(o.userId).get().then((function(n){o.username=n.data().username,o.profileImage=n.data().profilePicture,a.push(o),a.length===e.size&&t({type:"FETCH_COMMENTS",payload:a})}))}))}))}}},ue=Object(s.b)((function(e){return{user:e.user.user,post:e.comments.post,comments:e.comments.comments,loading:e.comments.loading}}),ie)(Y((function(e){var t=e.user,a=e.post,r=e.comments,l=e.fetchPost,s=e.fetchComments,c=e.match,m=e.loading,i=Object(n.useState)(null),u=Object(v.a)(i,2),d=u[0],E=u[1];return Object(n.useEffect)((function(){var e=c.params.id;l(e),s(e)}),[c,s,l]),m?o.a.createElement("div",{className:"container"},o.a.createElement(B,null)):o.a.createElement("div",{className:"container"},0!==Object.keys(a).length?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ne.a.post},o.a.createElement("div",{className:W.a.postUser},o.a.createElement(p.b,{to:{pathname:"/user/".concat(a.userId)}},o.a.createElement("img",{src:a.profileImage,alt:"",className:W.a.profileImage})),o.a.createElement(p.b,{to:{pathname:"/user/".concat(a.userId)}},o.a.createElement("span",{className:W.a.username},a.username))),o.a.createElement("div",{className:W.a.postContent},o.a.createElement("p",null,a.postContent))),o.a.createElement("div",{className:ne.a.commentContainer},o.a.createElement("span",null,r.length," Comment(s)"),r&&r.map((function(e){return o.a.createElement("div",{className:ne.a.comment,key:e.id},o.a.createElement("div",{className:W.a.postUser},o.a.createElement(p.b,{to:{pathname:"/user/".concat(e.userId)}},o.a.createElement("img",{src:e.profileImage,alt:"",className:W.a.profileImage})),o.a.createElement(p.b,{to:{pathname:"/user/".concat(e.userId)}},o.a.createElement("span",{className:W.a.username},e.username)),t&&(e.userId===t.id?o.a.createElement("button",{className:W.a.openOptions,id:"openOptions",onClick:function(){return function(e){E(e);var t=document.getElementById("modal");"flex"===t.style.display?t.style.display="none":t.style.display="flex"}(e)}},o.a.createElement(S,null)):null)),o.a.createElement("div",{className:W.a.postContent},o.a.createElement("p",null,e.commentContent)))})))):o.a.createElement("div",null),t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(me,{comment:d,setCommentEdit:E}),o.a.createElement(re,{post:a})))}))),de=a(19),pe=a(2),Ee=a.n(pe),fe={login:function(e){return function(t){t({type:"SET_LOADING",payload:!0}),i.signInWithEmailAndPassword(e.email,e.password).then((function(e){return t({type:"LOGIN_SUCCESS",payload:e.uid})})).catch((function(e){t({type:f,payload:e.message}),t({type:"LOGIN_ERROR",payload:e.message})}))}}},he=Object(s.b)((function(e){return{user:e.user.user,error:e.user.authError,loading:e.user.loading}}),fe)((function(e){var t=e.user,a=e.login,r=e.history,l=e.loading,s={email:"",password:""},c=Object(n.useState)(s),m=Object(v.a)(c,2),i=m[0],u=m[1],d=function(e){var t=e.target,a=t.id,n=t.value;u(Object(U.a)({},i,Object(de.a)({},a,n)))};return Object(n.useEffect)((function(){t&&r.push("/")}),[t,r]),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:Ee.a.formContainer},o.a.createElement("h1",{className:Ee.a.formTitle},"Log In"),o.a.createElement("form",{className:Ee.a.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),a(i),u(s)}},o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"email"},"Email: "),o.a.createElement("input",{id:"email",className:Ee.a.formControl,type:"email",value:i.email,onChange:d,placeholder:"example@example.com",required:!0})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"password"},"Password: "),o.a.createElement("input",{id:"password",className:Ee.a.formControl,type:"password",value:i.password,onChange:d,placeholder:"",required:!0})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("button",{type:"submit",className:Ee.a.submitBtn,disabled:l},"Log In")),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("span",null,"Don't have an account?"," ",o.a.createElement(p.b,{to:{pathname:"/signup"}},"Sign Up"))))))})),ge={signup:function(e){return function(t){t({type:"SET_LOADING",payload:!0}),i.createUserWithEmailAndPassword(e.email,e.password).then((function(a){u.collection("users").doc(a.user.uid).set({id:a.user.uid,username:e.username,email:e.email,profilePicture:g.a.image.imageUrl(128,128,"avatar",!0),description:""}).then(t({type:"LOGIN_SUCCESS",payload:a.user.uid})).catch((function(e){return t({type:f,payload:e.message})}))})).catch((function(e){return t({type:f,payload:e.message})}))}}},ve=Object(s.b)((function(e){return{user:e.user.user,error:e.user.authError,loading:e.user.loading}}),ge)((function(e){var t=e.user,a=e.signup,r=e.history,l=e.loading,s={username:"",email:"",password:"",confirmPassword:""},c=Object(n.useState)(s),m=Object(v.a)(c,2),i=m[0],u=m[1],d=function(e){var t=e.target,a=t.id,n=t.value;u(Object(U.a)({},i,Object(de.a)({},a,n)))};return Object(n.useEffect)((function(){t&&r.push("/")}),[t,r]),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:Ee.a.formContainer},o.a.createElement("h1",{className:Ee.a.formTitle},"Create Account"),o.a.createElement("form",{className:Ee.a.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),i.password===i.confirmPassword?(a(i),u(s)):alert("Passwords do not match!")}},o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"username"},"Username: "),o.a.createElement("input",{id:"username",className:Ee.a.formControl,type:"text",value:i.username,onChange:d,placeholder:"",required:!0})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"email"},"Email: "),o.a.createElement("input",{id:"email",className:Ee.a.formControl,type:"email",value:i.email,onChange:d,placeholder:"example@example.com",required:!0})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"password"},"Password: "),o.a.createElement("input",{id:"password",className:Ee.a.formControl,type:"password",value:i.password,onChange:d,placeholder:"",required:!0})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password: "),o.a.createElement("input",{id:"confirmPassword",className:Ee.a.formControl,type:"password",value:i.confirmPassword,onChange:d,placeholder:"",required:!0})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("button",{type:"submit",className:Ee.a.submitBtn,disabled:l},"Sign Up")),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("span",null,"Already have an account?",o.a.createElement(p.b,{to:{pathname:"/login"}},"Log In"))))))})),be={updateProfile:function(e){return function(t){t({type:"SET_LOADING",payload:!0});var a=[],n=i.currentUser,o=c.a.auth.EmailAuthProvider.credential(n.email,e.reauthPassword),r=n.reauthenticateWithCredential(o).catch((function(e){return t({type:f,payload:e.message})}));e.email&&a.push(r.then((function(t){return t.user.updateEmail(e.email)})),u.collection("users").doc(e.id).update({email:e.email})),e.username&&a.push(r.then(u.collection("users").doc(e.id).update({username:e.username}))),e.password&&a.push(r.then((function(t){return t.user.updatePassword(e.password)}))),Promise.all(a).then((function(){delete e.password,t({type:"UPDATE_PROFILE",payload:e})})).catch((function(e){return t({type:f,payload:e.message})}))}}},_e=Object(s.b)((function(e){return{user:e.user.user,error:e.user.authError,userLoading:e.user.userLoading,loading:e.user.loading}}),be)((function(e){var t=e.user,a=e.updateProfile,r=e.userLoading,l=e.loading,s=e.error;s&&alert(s);var c={username:t.username,email:t.email,password:"",confirmPassword:"",reauthPassword:""},m=Object(n.useState)(c),i=Object(v.a)(m,2),u=i[0],d=i[1],E=function(e){var t=e.target,a=t.id,n=t.value;d(Object(U.a)({},u,Object(de.a)({},a,n)))};return r?o.a.createElement("div",{className:"container"},o.a.createElement(B,null)," Fetching User Details"):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:Ee.a.formContainer},o.a.createElement("h1",{className:Ee.a.formTitle},"Update Profile"),l&&o.a.createElement("div",null,"updating..."),o.a.createElement("form",{className:Ee.a.form,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t=document.getElementById("credentialsModal"),a=document.getElementById("reauthPassword");t.style.display="block",a.focus()}},o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"username"},"Username: "),o.a.createElement("input",{id:"username",className:Ee.a.formControl,type:"text",value:u.username,onChange:E,required:!0})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"email"},"Email: "),o.a.createElement("input",{id:"email",className:Ee.a.formControl,type:"email",value:u.email,onChange:E})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"password"},"Password: "),o.a.createElement("input",{id:"password",className:Ee.a.formControl,type:"password",value:u.password,onChange:E,placeholder:"Leave blank to keep the same"})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password: "),o.a.createElement("input",{id:"confirmPassword",className:Ee.a.formControl,type:"password",value:u.confirmPassword,onChange:E,placeholder:"Leave blank to keep the same"})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("button",{type:"submit",className:Ee.a.submitBtn,disabled:l},"Update Profile")),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("span",null,o.a.createElement(p.b,{to:{pathname:"/"}},"Cancel"))))),o.a.createElement("div",{id:"credentialsModal",className:Ee.a.credentialsModal},o.a.createElement("div",{className:Ee.a.closeBtnContainer},o.a.createElement("button",{className:Ee.a.closeBtn},"\xd7")),o.a.createElement("div",{className:Ee.a.descriptionContainer},o.a.createElement("span",{className:Ee.a.modalDescription},"Please enter your password(old) to authorize the updates")),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),document.getElementById("credentialsModal").style.display="none";var n={id:t.id,reauthPassword:u.reauthPassword};""===u.password||u.password===u.confirmPassword?(n=Object(U.a)({},n,{password:u.password}),""!==u.username&&u.username!==t.username&&(n=Object(U.a)({},n,{username:u.username})),""!==u.email&&u.email!==t.email&&(n=Object(U.a)({},n,{email:u.email})),a(n)):alert("Passwords do not match!")}},o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("input",{id:"reauthPassword",type:"password",value:u.reauthPassword,onChange:E,className:Ee.a.formControl,placeholder:"Enter password..."})),o.a.createElement("div",{className:Ee.a.formGroup},o.a.createElement("button",{type:"submit",className:Ee.a.submitBtn},"Continue")))))})),ye=a(24),Ce=a.n(ye),Ne={setHideError:function(){return function(e){e({type:"HIDE_ERROR",payload:!0})}}},Oe=Object(s.b)((function(e){return{errorMessage:e.error.errorMessage,hideError:e.error.hideError}}),Ne)((function(e){var t=e.hideError,a=e.errorMessage,n=e.setHideError;return t?null:o.a.createElement("div",{className:Ce.a.modal},o.a.createElement("div",{className:Ce.a.modalHeader},"Error!"),o.a.createElement("div",{className:Ce.a.modalBody},a),o.a.createElement("div",{className:Ce.a.modalBtnContainer},o.a.createElement("button",{className:Ce.a.modalClose,onClick:n},"Close")))})),we=a(43),Pe=Object(s.b)((function(e){return{user:e.user.user}}),{})((function(e){var t=e.user,a=e.component,n=Object(we.a)(e,["user","component"]);return o.a.createElement(E.b,Object.assign({},n,{render:function(e){return t?o.a.createElement(a,e):o.a.createElement(E.a,{to:"/login"})}}))})),je={setUser:function(e){return function(t){if(!e)return t({type:"FETCH_USER",payload:null});u.collection("users").doc(e).get().then((function(e){e.exists?t({type:"FETCH_USER",payload:e.data()}):console.log("No such document")})).catch((function(e){return t({type:f,payload:e.message})})).catch((function(e){return console.log(e)}))}}},Ie=Object(s.b)((function(e){return{userLoading:e.user.userLoading}}),je)((function(e){var t=e.setUser,a=e.userLoading;return Object(n.useEffect)((function(){return i.onAuthStateChanged((function(e){t(e?e.uid:null)}))}),[t]),o.a.createElement(p.a,null,a?o.a.createElement("div",{className:"container"},o.a.createElement(B,null)):o.a.createElement(E.d,null,o.a.createElement(Pe,{exact:!0,path:"/",component:J}),o.a.createElement(Pe,{exact:!0,path:"/user/:id",component:te}),o.a.createElement(Pe,{exact:!0,path:"/user/:id/update-profile",component:_e}),o.a.createElement(Pe,{exact:!0,path:"/post/:id",component:ue}),o.a.createElement(E.b,{exact:!0,path:"/login",component:he}),o.a.createElement(E.b,{exact:!0,path:"/signup",component:ve})),o.a.createElement(Oe,null))})),Be=a(20),ke=a(42),Se=a(13),Le={posts:[],userPosts:[],loading:!1},Te={userDetails:{},user:null,authError:null,userLoading:!0,loading:!1},xe={errorMessage:"",hideError:!0},Me={post:{},comments:[],loading:!1},Fe=Object(Be.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_LOADING":return Object(U.a)({},e,{loading:!0});case"FETCH_POSTS":return Object(U.a)({},e,{posts:Object(Se.a)(n),loading:!1});case"FETCH_USER_POSTS":return Object(U.a)({},e,{userPosts:Object(Se.a)(n),loading:!1});case"NEW_POST":return Object(U.a)({},e,{posts:[n].concat(Object(Se.a)(e.posts)),userPosts:[n].concat(Object(Se.a)(e.userPosts))});case"EDIT_POST":return Object(U.a)({},e,{posts:Object(Se.a)(e.posts.map((function(e){return e.id===n.id?Object(U.a)({},n):e}))),userPosts:Object(Se.a)(e.userPosts.map((function(e){return e.id===n.id?Object(U.a)({},n):e})))});case"DELETE_POST":return Object(U.a)({},e,{posts:Object(Se.a)(e.posts.filter((function(e){return e.id!==n.id}))),userPosts:Object(Se.a)(e.userPosts.filter((function(e){return e.id!==n.id})))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_USER":return Object(U.a)({},e,{user:null===n?null:Object(U.a)({},n),userLoading:!1});case"SET_LOADING":return Object(U.a)({},e,{loading:!0});case"FETCH_USER_DETAILS":return Object(U.a)({},e,{userDetails:Object(U.a)({},n),loading:!1});case"LOGIN_SUCCESS":return Object(U.a)({},e,{authError:null,user:Object(U.a)({},n),loading:!1});case"UPDATE_ERROR":case"LOGIN_ERROR":return Object(U.a)({},e,{authError:n,loading:!1});case"LOGOUT":return Object(U.a)({},e,{user:null});case"UPDATE_PROFILE":return Object(U.a)({},e,{user:Object(U.a)({},e.user,{},n),loading:!1,authError:null});default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_LOADING":return Object(U.a)({},e,{loading:!0});case"FETCH_POST":return Object(U.a)({},e,{post:Object(U.a)({},n),loading:!1});case"FETCH_COMMENTS":return Object(U.a)({},e,{comments:Object(Se.a)(n)});case"NEW_COMMENT":return Object(U.a)({},e,{comments:[n].concat(Object(Se.a)(e.comments))});case"EDIT_COMMENT":return Object(U.a)({},e,{comments:Object(Se.a)(e.comments.map((function(e){return e.id===n.id?Object(U.a)({},n):e})))});case"DELETE_COMMENT":return Object(U.a)({},e,{comments:Object(Se.a)(e.comments.filter((function(e){return e.id!==n.id})))});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"HIDE_ERROR":return Object(U.a)({},e,{hideError:!0});case f:return Object(U.a)({},e,{errorMessage:n,hideError:!1});default:return e}}}),De=[ke.a],Ue=Object(Be.d)(Fe,{},Be.a.apply(void 0,De));var Ge=function(){return o.a.createElement(s.a,{store:Ue},o.a.createElement(Ie,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},17:function(e,t,a){e.exports={modal:"PostOptions_modal__2YXKB",fade:"PostOptions_fade__19ISj",modalContent:"PostOptions_modalContent__Kw6I4",slideUp:"PostOptions_slideUp__2mrYC",modalBtn:"PostOptions_modalBtn__2Z199"}},18:function(e,t,a){e.exports={navbar:"Navbar_navbar__3Y0Cr",logo:"Navbar_logo__1RZpO",menuOpen:"Navbar_menuOpen__-nRHv",navMenu:"Navbar_navMenu__tTFar",menuItem:"Navbar_menuItem__5RGSa"}},2:function(e,t,a){e.exports={formContainer:"Form_formContainer__1X5cO",formTitle:"Form_formTitle__1HwwB",form:"Form_form__2MjQ5",formGroup:"Form_formGroup__1qVqb",formControl:"Form_formControl__35qRG",submitBtn:"Form_submitBtn__2OWPy",credentialsModal:"Form_credentialsModal__1d_CE",zoomUp:"Form_zoomUp__1FEr0",descriptionContainer:"Form_descriptionContainer__3TeJj",modalDescription:"Form_modalDescription__36NTe",closeBtnContainer:"Form_closeBtnContainer__3zMOu",closeBtn:"Form_closeBtn__ug4zv"}},23:function(e,t,a){e.exports={details:"User_details__4zF02",profilePicture:"User_profilePicture__DbmRg",userName:"User_userName__1pb-G",description:"User_description__2IduZ",editProfile:"User_editProfile__bavfm"}},24:function(e,t,a){e.exports={modal:"Modal_modal__1EEx0",slideDown:"Modal_slideDown__1YWGP",modalHeader:"Modal_modalHeader__u1VTl",modalBody:"Modal_modalBody__2gu4v",modalBtnContainer:"Modal_modalBtnContainer__351fb",modalClose:"Modal_modalClose__MNCqe"}},33:function(e,t,a){e.exports={post:"Comment_post__1d2YL",commentContainer:"Comment_commentContainer__3Z52t",comment:"Comment_comment__3RbZK"}},44:function(e,t,a){e.exports=a(1338)},49:function(e,t,a){},5:function(e,t,a){e.exports={addPostBtn:"PostForm_addPostBtn__6FnnB",addCommentBtn:"PostForm_addCommentBtn__56ShS",addPostLabel:"PostForm_addPostLabel___VLnq",addCommentLabel:"PostForm_addCommentLabel__HLbz1",addCommentMobileIcon:"PostForm_addCommentMobileIcon__Z44lC",createPostContainer:"PostForm_createPostContainer__1hELR",slide:"PostForm_slide__3SBAE",modal:"PostForm_modal__3AvwV",topIconsContainer:"PostForm_topIconsContainer__2AKcj",closeBtn:"PostForm_closeBtn__2Xo_g",submitBtn:"PostForm_submitBtn__2QJvi",inputContainer:"PostForm_inputContainer__1PT6X",formControl:"PostForm_formControl__3vFaG",postInput:"PostForm_postInput__1WUSD",zoomUp:"PostForm_zoomUp__2SDDP"}}},[[44,1,2]]]);
//# sourceMappingURL=main.c5505a4f.chunk.js.map